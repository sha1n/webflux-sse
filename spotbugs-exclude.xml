<?xml version="1.0" encoding="UTF-8"?>
<FindBugsFilter>
    <!--
    EI_EXPOSE_REP2 for Spring components:
    Spring beans are singleton references managed by the IoC container.
    All components intentionally share the same bean instance.
    Making defensive copies would break Spring's dependency injection.
    This is the standard Spring pattern and is safe.
    -->
    <Match>
        <Or>
            <Class name="~.*\.controller\..*Controller"/>
            <Class name="~.*\.service\..*Service"/>
            <Class name="~.*\.config\..*Config"/>
        </Or>
        <Bug pattern="EI_EXPOSE_REP2"/>
    </Match>

    <!--
    USBR_UNNECESSARY_STORE_BEFORE_RETURN:
    This warning commonly occurs in Lombok-generated code (e.g., @Data, @EqualsAndHashCode)
    where the generated hashCode() method stores the result in a local variable before returning.
    This is a minor performance warning that has negligible impact - the JVM's JIT compiler
    optimizes this pattern away at runtime. Since this is standard code generation behavior
    and not an actual code quality issue, we suppress it globally.
    -->
    <Match>
        <Bug pattern="USBR_UNNECESSARY_STORE_BEFORE_RETURN"/>
    </Match>
</FindBugsFilter>